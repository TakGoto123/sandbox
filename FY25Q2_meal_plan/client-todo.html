<script>
/**
 * TODOç®¡ç†æ©Ÿèƒ½ - ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‚µã‚¤ãƒ‰
 * TODOãƒªã‚¹ãƒˆã®è¡¨ç¤ºã€æ“ä½œã€æ›´æ–°æ©Ÿèƒ½
 */

class TodoManager {
  constructor() {
    this.isInitialized = false;
    this.currentTodoData = [];
    this.currentWeekStart = null;
    this.isLoading = false;
  }

  /**
   * TODOç®¡ç†æ©Ÿèƒ½ã‚’åˆæœŸåŒ–
   * @param {string} weekStart - é€±é–‹å§‹æ—¥
   */
  async initialize(weekStart) {
    if (this.isInitialized) {
      console.log('TodoManager already initialized');
      return;
    }

    console.log('=== TodoManageråˆæœŸåŒ–é–‹å§‹ ===');
    
    try {
      this.currentWeekStart = weekStart;
      
      // åˆæœŸãƒ‡ãƒ¼ã‚¿ã‚’èª­ã¿è¾¼ã¿
      await this.loadTodoData();
      
      // ã‚¤ãƒ™ãƒ³ãƒˆãƒªã‚¹ãƒŠãƒ¼ã‚’è¨­å®š
      this.setupEventListeners();
      
      this.isInitialized = true;
      console.log('=== TodoManageråˆæœŸåŒ–å®Œäº† ===');
      
    } catch (error) {
      console.error('TodoManageråˆæœŸåŒ–ã‚¨ãƒ©ãƒ¼:', error);
      UIUtils.showError('TODOæ©Ÿèƒ½ã®åˆæœŸåŒ–ã«å¤±æ•—ã—ã¾ã—ãŸ: ' + error.message, 'todoContent');
      throw error;
    }
  }

  /**
   * TODOãƒ‡ãƒ¼ã‚¿ã‚’èª­ã¿è¾¼ã¿
   */
  async loadTodoData() {
    if (this.isLoading) {
      console.log('Already loading TODO data');
      return;
    }

    this.isLoading = true;
    console.log(`Loading TODO data for week: ${this.currentWeekStart}`);
    
    try {
      // ãƒ­ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°è¡¨ç¤º
      this.showLoading();
      
      // ã‚µãƒ¼ãƒãƒ¼ã‹ã‚‰TODOãƒ‡ãƒ¼ã‚¿ã‚’å–å¾—
      const result = await this.fetchTodoDataFromServer(this.currentWeekStart);
      
      if (result.success) {
        this.currentTodoData = result.data || [];
        console.log(`Loaded ${this.currentTodoData.length} TODO items`);
        
        // TODOãƒªã‚¹ãƒˆã‚’è¡¨ç¤º
        this.renderTodoList();
        
        // é€±æƒ…å ±ã‚’æ›´æ–°
        this.updateWeekInfo(result);
        
      } else {
        throw new Error(result.message || 'TODOãƒ‡ãƒ¼ã‚¿ã®å–å¾—ã«å¤±æ•—ã—ã¾ã—ãŸ');
      }
      
    } catch (error) {
      console.error('TODOãƒ‡ãƒ¼ã‚¿èª­ã¿è¾¼ã¿ã‚¨ãƒ©ãƒ¼:', error);
      UIUtils.showError('TODOãƒ‡ãƒ¼ã‚¿ã®èª­ã¿è¾¼ã¿ã«å¤±æ•—ã—ã¾ã—ãŸ: ' + error.message, 'todoList');
    } finally {
      this.isLoading = false;
    }
  }

  /**
   * ã‚µãƒ¼ãƒãƒ¼ã‹ã‚‰TODOãƒ‡ãƒ¼ã‚¿ã‚’å–å¾—
   * @param {string} weekStart - é€±é–‹å§‹æ—¥
   * @returns {Promise<Object>} TODOãƒ‡ãƒ¼ã‚¿
   */
  async fetchTodoDataFromServer(weekStart) {
    return new Promise((resolve, reject) => {
      google.script.run
        .withSuccessHandler(resolve)
        .withFailureHandler(reject)
        .getTodoDataForApp(weekStart);
    });
  }

  /**
   * TODOãƒªã‚¹ãƒˆã‚’è¡¨ç¤º
   */
  renderTodoList() {
    const todoListElement = document.getElementById('todoList');
    if (!todoListElement) {
      console.error('todoList element not found');
      return;
    }

    if (this.currentTodoData.length === 0) {
      todoListElement.innerHTML = `
        <div class="no-data">
          <p>ğŸ“ è¡¨ç¤ºã™ã‚‹TODOãŒã‚ã‚Šã¾ã›ã‚“</p>
          <p class="no-data-sub">æ–°ã—ã„TODOã‚’è¿½åŠ ã—ã¦ãã ã•ã„</p>
        </div>
      `;
      return;
    }

    // TODOã‚¢ã‚¤ãƒ†ãƒ ã‚’ã‚°ãƒ«ãƒ¼ãƒ—åŒ–ï¼ˆå®Œäº†/æœªå®Œäº†ï¼‰
    const incompleteTodos = this.currentTodoData.filter(item => !item.done);
    const completeTodos = this.currentTodoData.filter(item => item.done);

    let html = '<div class="todo-list">';

    // æœªå®Œäº†TODOã‚’è¡¨ç¤º
    if (incompleteTodos.length > 0) {
      html += '<div class="todo-section">';
      html += '<h3 class="todo-section-title">ğŸ“‹ æœªå®Œäº†ã®TODO</h3>';
      html += '<div class="todo-items">';
      
      incompleteTodos.forEach(item => {
        html += this.renderTodoItem(item, false);
      });
      
      html += '</div></div>';
    }

    // å®Œäº†æ¸ˆã¿TODOã‚’è¡¨ç¤ºï¼ˆç ´ç·šã‚¹ã‚¿ã‚¤ãƒ«ï¼‰
    if (completeTodos.length > 0) {
      html += '<div class="todo-section completed-section">';
      html += '<h3 class="todo-section-title">âœ… å®Œäº†æ¸ˆã¿ã®TODO</h3>';
      html += '<div class="todo-items">';
      
      completeTodos.forEach(item => {
        html += this.renderTodoItem(item, true);
      });
      
      html += '</div></div>';
    }

    html += '</div>';

    // æ–°ã—ã„TODOè¿½åŠ ãƒ•ã‚©ãƒ¼ãƒ 
    html += this.renderAddTodoForm();

    todoListElement.innerHTML = html;
  }

  /**
   * å€‹åˆ¥ã®TODOã‚¢ã‚¤ãƒ†ãƒ ã‚’è¡¨ç¤º
   * @param {Object} item - TODOã‚¢ã‚¤ãƒ†ãƒ 
   * @param {boolean} isCompleted - å®Œäº†æ¸ˆã¿ã‹ã©ã†ã‹
   * @returns {string} HTMLæ–‡å­—åˆ—
   */
  renderTodoItem(item, isCompleted) {
    const itemClass = isCompleted ? 'todo-item completed' : 'todo-item';
    const checkboxChecked = item.done ? 'checked' : '';
    const dateFormatted = this.formatDateForDisplay(item.date);
    
    return `
      <div class="${itemClass}" data-todo-id="${item.id}" data-row-number="${item.rowNumber}">
        <div class="todo-checkbox">
          <input type="checkbox" 
                 id="todo_${item.rowNumber}" 
                 ${checkboxChecked}
                 onchange="handleTodoStatusChange(${item.rowNumber}, this.checked)">
        </div>
        <div class="todo-content">
          <div class="todo-text">${UIUtils.escapeHtml(item.todo)}</div>
          <div class="todo-meta">
            <span class="todo-date">ğŸ“… ${dateFormatted}</span>
            ${item.timestamp ? `<span class="todo-timestamp">â° ${item.timestamp}</span>` : ''}
          </div>
        </div>
        <div class="todo-actions">
          <button class="todo-delete-btn" 
                  onclick="handleTodoDelete(${item.rowNumber})"
                  title="å‰Šé™¤">
            ğŸ—‘ï¸
          </button>
        </div>
      </div>
    `;
  }

  /**
   * æ–°ã—ã„TODOè¿½åŠ ãƒ•ã‚©ãƒ¼ãƒ ã‚’è¡¨ç¤º
   * @returns {string} HTMLæ–‡å­—åˆ—
   */
  renderAddTodoForm() {
    return `
      <div class="add-todo-section">
        <h3 class="todo-section-title">â• æ–°ã—ã„TODOã‚’è¿½åŠ </h3>
        <form class="add-todo-form" onsubmit="handleAddTodo(event)">
          <div class="form-row">
            <div class="form-group">
              <label for="newTodoText">TODOå†…å®¹</label>
              <input type="text" 
                     id="newTodoText" 
                     name="todoText" 
                     placeholder="ã‚„ã‚‹ã“ã¨ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„"
                     required>
            </div>
            <div class="form-group">
              <label for="newTodoDate">æœŸé™æ—¥</label>
              <input type="date" 
                     id="newTodoDate" 
                     name="dueDate" 
                     required>
            </div>
          </div>
          <div class="form-actions">
            <button type="submit" class="add-todo-btn">
              â• TODOã‚’è¿½åŠ 
            </button>
          </div>
        </form>
      </div>
    `;
  }

  /**
   * æ—¥ä»˜ã‚’è¡¨ç¤ºç”¨ã«ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆ
   * @param {string} dateStr - æ—¥ä»˜æ–‡å­—åˆ—
   * @returns {string} ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆã•ã‚ŒãŸæ—¥ä»˜
   */
  formatDateForDisplay(dateStr) {
    try {
      const date = new Date(dateStr);
      const month = date.getMonth() + 1;
      const day = date.getDate();
      const dayOfWeek = ['æ—¥', 'æœˆ', 'ç«', 'æ°´', 'æœ¨', 'é‡‘', 'åœŸ'][date.getDay()];
      
      return `${month}/${day}(${dayOfWeek})`;
    } catch (error) {
      return dateStr;
    }
  }

  /**
   * é€±æƒ…å ±ã‚’æ›´æ–°
   * @param {Object} result - ã‚µãƒ¼ãƒãƒ¼ã‹ã‚‰ã®çµæœ
   */
  updateWeekInfo(result) {
    console.log('Week info:', {
      weekStart: result.weekStart,
      targetSunday: result.targetSunday,
      oneWeekBefore: result.oneWeekBefore
    });
  }

  /**
   * ãƒ­ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°è¡¨ç¤º
   */
  showLoading() {
    const todoListElement = document.getElementById('todoList');
    if (todoListElement) {
      todoListElement.innerHTML = `
        <div class="loading">
          <div class="loading-spinner"></div>
          <p>TODOãƒ‡ãƒ¼ã‚¿ã‚’èª­ã¿è¾¼ã‚“ã§ã„ã¾ã™...</p>
        </div>
      `;
    }
  }

  /**
   * ã‚¤ãƒ™ãƒ³ãƒˆãƒªã‚¹ãƒŠãƒ¼ã‚’è¨­å®š
   */
  setupEventListeners() {
    console.log('Setting up TODO event listeners');
    
    // ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³çŠ¶æ…‹ã®å¤‰æ›´ã‚’ç›£è¦–
    if (typeof appState !== 'undefined') {
      appState.subscribe('currentWeekStart', (newWeekStart) => {
        if (newWeekStart !== this.currentWeekStart) {
          this.currentWeekStart = newWeekStart;
          this.loadTodoData();
        }
      });
    }
  }

  /**
   * é€±ã‚’å¤‰æ›´
   * @param {string} newWeekStart - æ–°ã—ã„é€±é–‹å§‹æ—¥
   */
  async changeWeek(newWeekStart) {
    if (newWeekStart === this.currentWeekStart) {
      return;
    }
    
    this.currentWeekStart = newWeekStart;
    await this.loadTodoData();
  }

  /**
   * TODOçŠ¶æ…‹ã‚’æ›´æ–°
   * @param {number} rowNumber - è¡Œç•ªå·
   * @param {boolean} doneStatus - DoneçŠ¶æ…‹
   */
  async updateTodoStatus(rowNumber, doneStatus) {
    try {
      console.log(`Updating TODO ${rowNumber}: done = ${doneStatus}`);
      
      const result = await this.updateTodoOnServer(rowNumber, doneStatus);
      
      if (result.success) {
        console.log('TODO status updated successfully');
        
        // ãƒ­ãƒ¼ã‚«ãƒ«ãƒ‡ãƒ¼ã‚¿ã‚’æ›´æ–°
        const todoItem = this.currentTodoData.find(item => item.rowNumber === rowNumber);
        if (todoItem) {
          todoItem.done = doneStatus;
        }
        
        // è¡¨ç¤ºã‚’æ›´æ–°
        this.renderTodoList();
        
        UIUtils.showNotification(result.message || 'TODOçŠ¶æ…‹ã‚’æ›´æ–°ã—ã¾ã—ãŸ', 'success');
      } else {
        throw new Error(result.message || 'TODOçŠ¶æ…‹ã®æ›´æ–°ã«å¤±æ•—ã—ã¾ã—ãŸ');
      }
      
    } catch (error) {
      console.error('TODOçŠ¶æ…‹æ›´æ–°ã‚¨ãƒ©ãƒ¼:', error);
      UIUtils.showNotification('TODOçŠ¶æ…‹ã®æ›´æ–°ã«å¤±æ•—ã—ã¾ã—ãŸ: ' + error.message, 'error');
      
      // ãƒã‚§ãƒƒã‚¯ãƒœãƒƒã‚¯ã‚¹ã®çŠ¶æ…‹ã‚’å…ƒã«æˆ»ã™
      const checkbox = document.getElementById(`todo_${rowNumber}`);
      if (checkbox) {
        checkbox.checked = !doneStatus;
      }
    }
  }

  /**
   * ã‚µãƒ¼ãƒãƒ¼ã§TODOçŠ¶æ…‹ã‚’æ›´æ–°
   * @param {number} rowNumber - è¡Œç•ªå·
   * @param {boolean} doneStatus - DoneçŠ¶æ…‹
   * @returns {Promise<Object>} æ›´æ–°çµæœ
   */
  async updateTodoOnServer(rowNumber, doneStatus) {
    return new Promise((resolve, reject) => {
      google.script.run
        .withSuccessHandler(resolve)
        .withFailureHandler(reject)
        .updateTodoForApp(rowNumber, doneStatus);
    });
  }

  /**
   * æ–°ã—ã„TODOã‚’è¿½åŠ 
   * @param {string} todoText - TODOãƒ†ã‚­ã‚¹ãƒˆ
   * @param {string} dueDate - æœŸé™æ—¥
   */
  async addTodo(todoText, dueDate) {
    try {
      console.log(`Adding new TODO: ${todoText}, due: ${dueDate}`);
      
      const result = await this.addTodoOnServer(todoText, dueDate);
      
      if (result.success) {
        console.log('TODO added successfully');
        
        // ãƒ‡ãƒ¼ã‚¿ã‚’å†èª­ã¿è¾¼ã¿
        await this.loadTodoData();
        
        UIUtils.showNotification(result.message || 'TODOã‚’è¿½åŠ ã—ã¾ã—ãŸ', 'success');
      } else {
        throw new Error(result.message || 'TODOã®è¿½åŠ ã«å¤±æ•—ã—ã¾ã—ãŸ');
      }
      
    } catch (error) {
      console.error('TODOè¿½åŠ ã‚¨ãƒ©ãƒ¼:', error);
      UIUtils.showNotification('TODOã®è¿½åŠ ã«å¤±æ•—ã—ã¾ã—ãŸ: ' + error.message, 'error');
    }
  }

  /**
   * ã‚µãƒ¼ãƒãƒ¼ã§TODOã‚’è¿½åŠ 
   * @param {string} todoText - TODOãƒ†ã‚­ã‚¹ãƒˆ
   * @param {string} dueDate - æœŸé™æ—¥
   * @returns {Promise<Object>} è¿½åŠ çµæœ
   */
  async addTodoOnServer(todoText, dueDate) {
    return new Promise((resolve, reject) => {
      google.script.run
        .withSuccessHandler(resolve)
        .withFailureHandler(reject)
        .addTodoForApp(todoText, dueDate);
    });
  }

  /**
   * TODOã‚’å‰Šé™¤
   * @param {number} rowNumber - è¡Œç•ªå·
   */
  async deleteTodo(rowNumber) {
    try {
      if (!confirm('ã“ã®TODOã‚’å‰Šé™¤ã—ã¾ã™ã‹ï¼Ÿ')) {
        return;
      }
      
      console.log(`Deleting TODO ${rowNumber}`);
      
      const result = await this.deleteTodoOnServer(rowNumber);
      
      if (result.success) {
        console.log('TODO deleted successfully');
        
        // ãƒ‡ãƒ¼ã‚¿ã‚’å†èª­ã¿è¾¼ã¿
        await this.loadTodoData();
        
        UIUtils.showNotification(result.message || 'TODOã‚’å‰Šé™¤ã—ã¾ã—ãŸ', 'success');
      } else {
        throw new Error(result.message || 'TODOã®å‰Šé™¤ã«å¤±æ•—ã—ã¾ã—ãŸ');
      }
      
    } catch (error) {
      console.error('TODOå‰Šé™¤ã‚¨ãƒ©ãƒ¼:', error);
      UIUtils.showNotification('TODOã®å‰Šé™¤ã«å¤±æ•—ã—ã¾ã—ãŸ: ' + error.message, 'error');
    }
  }

  /**
   * ã‚µãƒ¼ãƒãƒ¼ã§TODOã‚’å‰Šé™¤
   * @param {number} rowNumber - è¡Œç•ªå·
   * @returns {Promise<Object>} å‰Šé™¤çµæœ
   */
  async deleteTodoOnServer(rowNumber) {
    return new Promise((resolve, reject) => {
      google.script.run
        .withSuccessHandler(resolve)
        .withFailureHandler(reject)
        .deleteTodoForApp(rowNumber);
    });
  }

  /**
   * ç ´æ£„å‡¦ç†
   */
  destroy() {
    console.log('TodoManager destroyed');
    this.isInitialized = false;
    this.currentTodoData = [];
  }
}

// ã‚°ãƒ­ãƒ¼ãƒãƒ«ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹
let todoManager = null;

/**
 * TODOæ©Ÿèƒ½ã‚’åˆæœŸåŒ–
 * @param {string} weekStart - é€±é–‹å§‹æ—¥
 * @returns {TodoManager} TodoManagerã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹
 */
function initializeTodoManager(weekStart) {
  console.log('Initializing TodoManager...');
  
  if (!todoManager) {
    todoManager = new TodoManager();
    window.todoManager = todoManager; // ã‚°ãƒ­ãƒ¼ãƒãƒ«ã‚¢ã‚¯ã‚»ã‚¹ç”¨
  }
  
  todoManager.initialize(weekStart);
  return todoManager;
}

/**
 * TODOçŠ¶æ…‹å¤‰æ›´ã®ã‚°ãƒ­ãƒ¼ãƒãƒ«ãƒãƒ³ãƒ‰ãƒ©ãƒ¼
 * @param {number} rowNumber - è¡Œç•ªå·
 * @param {boolean} checked - ãƒã‚§ãƒƒã‚¯çŠ¶æ…‹
 */
function handleTodoStatusChange(rowNumber, checked) {
  if (todoManager) {
    todoManager.updateTodoStatus(rowNumber, checked);
  } else {
    console.error('TodoManager not initialized');
    UIUtils.showNotification('TODOæ©Ÿèƒ½ãŒåˆæœŸåŒ–ã•ã‚Œã¦ã„ã¾ã›ã‚“', 'error');
  }
}

/**
 * TODOè¿½åŠ ã®ã‚°ãƒ­ãƒ¼ãƒãƒ«ãƒãƒ³ãƒ‰ãƒ©ãƒ¼
 * @param {Event} event - ãƒ•ã‚©ãƒ¼ãƒ ã‚¤ãƒ™ãƒ³ãƒˆ
 */
function handleAddTodo(event) {
  event.preventDefault();
  
  if (!todoManager) {
    console.error('TodoManager not initialized');
    UIUtils.showNotification('TODOæ©Ÿèƒ½ãŒåˆæœŸåŒ–ã•ã‚Œã¦ã„ã¾ã›ã‚“', 'error');
    return;
  }
  
  const formData = new FormData(event.target);
  const todoText = formData.get('todoText');
  const dueDate = formData.get('dueDate');
  
  if (!todoText || !dueDate) {
    UIUtils.showNotification('TODOå†…å®¹ã¨æœŸé™æ—¥ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„', 'error');
    return;
  }
  
  todoManager.addTodo(todoText, dueDate);
  
  // ãƒ•ã‚©ãƒ¼ãƒ ã‚’ãƒªã‚»ãƒƒãƒˆ
  event.target.reset();
}

/**
 * TODOå‰Šé™¤ã®ã‚°ãƒ­ãƒ¼ãƒãƒ«ãƒãƒ³ãƒ‰ãƒ©ãƒ¼
 * @param {number} rowNumber - è¡Œç•ªå·
 */
function handleTodoDelete(rowNumber) {
  if (todoManager) {
    todoManager.deleteTodo(rowNumber);
  } else {
    console.error('TodoManager not initialized');
    UIUtils.showNotification('TODOæ©Ÿèƒ½ãŒåˆæœŸåŒ–ã•ã‚Œã¦ã„ã¾ã›ã‚“', 'error');
  }
}

console.log('Todo manager loaded successfully');
</script>

<!-- TODOå°‚ç”¨ã‚¹ã‚¿ã‚¤ãƒ« -->
<style>
.todo-list {
  margin-top: 20px;
}

.todo-section {
  margin-bottom: 30px;
}

.todo-section-title {
  font-size: 18px;
  font-weight: bold;
  margin-bottom: 15px;
  color: #333;
  border-bottom: 2px solid #e0e0e0;
  padding-bottom: 8px;
}

.completed-section .todo-section-title {
  color: #888;
}

.todo-items {
  display: flex;
  flex-direction: column;
  gap: 10px;
}

.todo-item {
  display: flex;
  align-items: center;
  padding: 15px;
  background: #fff;
  border: 1px solid #e0e0e0;
  border-radius: 8px;
  box-shadow: 0 2px 4px rgba(0,0,0,0.1);
  transition: all 0.2s ease;
}

.todo-item:hover {
  box-shadow: 0 4px 8px rgba(0,0,0,0.15);
  transform: translateY(-1px);
}

.todo-item.completed {
  background: #f9f9f9;
  border-style: dashed;
  border-color: #ccc;
  opacity: 0.7;
}

.todo-item.completed .todo-text {
  text-decoration: line-through;
  color: #888;
}

.todo-checkbox {
  margin-right: 15px;
}

.todo-checkbox input[type="checkbox"] {
  width: 20px;
  height: 20px;
  cursor: pointer;
}

.todo-content {
  flex: 1;
}

.todo-text {
  font-size: 16px;
  font-weight: 500;
  margin-bottom: 5px;
  line-height: 1.4;
}

.todo-meta {
  display: flex;
  gap: 15px;
  font-size: 14px;
  color: #666;
}

.todo-date {
  font-weight: 500;
}

.todo-timestamp {
  color: #999;
}

.todo-actions {
  margin-left: 15px;
}

.todo-delete-btn {
  background: none;
  border: none;
  font-size: 18px;
  cursor: pointer;
  padding: 5px;
  border-radius: 4px;
  transition: background-color 0.2s ease;
}

.todo-delete-btn:hover {
  background-color: #ffebee;
}

.add-todo-section {
  margin-top: 30px;
  padding: 20px;
  background: #f8f9fa;
  border-radius: 8px;
  border: 1px solid #e9ecef;
}

.add-todo-form {
  margin-top: 15px;
}

.form-row {
  display: flex;
  gap: 20px;
  margin-bottom: 15px;
}

.form-group {
  flex: 1;
}

.form-group label {
  display: block;
  margin-bottom: 5px;
  font-weight: 500;
  color: #333;
}

.form-group input {
  width: 100%;
  padding: 10px;
  border: 1px solid #ddd;
  border-radius: 4px;
  font-size: 14px;
}

.form-group input:focus {
  outline: none;
  border-color: #007bff;
  box-shadow: 0 0 0 2px rgba(0,123,255,0.25);
}

.form-actions {
  text-align: right;
}

.add-todo-btn {
  background-color: #28a745;
  color: white;
  border: none;
  padding: 10px 20px;
  border-radius: 4px;
  font-size: 14px;
  font-weight: 500;
  cursor: pointer;
  transition: background-color 0.2s ease;
}

.add-todo-btn:hover {
  background-color: #218838;
}

.no-data {
  text-align: center;
  padding: 40px 20px;
  color: #666;
}

.no-data p {
  margin: 10px 0;
  font-size: 16px;
}

.no-data-sub {
  font-size: 14px;
  color: #999;
}

/* ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–å¯¾å¿œ */
@media (max-width: 768px) {
  .form-row {
    flex-direction: column;
    gap: 15px;
  }
  
  .todo-item {
    padding: 12px;
  }
  
  .todo-meta {
    flex-direction: column;
    gap: 5px;
  }
  
  .add-todo-section {
    padding: 15px;
  }
}
</style>
